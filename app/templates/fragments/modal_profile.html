{% from "fragments/_macros.html" import render_modal_content, render_form_buttons %}

{% call render_modal_content(user.name ~ "'s Profile") %}
<form hx-put="/user"
    hx-target="#auth-widget"
    hx-swap="outerHTML">

    <input type="hidden" name="_method" value="PUT">

    <div class="form-group">
        <label for="name">Name</label>
        <input type="text" id="name" name="name" class="form-control" value="{{ user.name }}" required>
    </div>
    
    <div class="form-group">
        <label for="email">Email Address</label>
        <input type="email" id="email" name="email" class="form-control" value="{{ user.email }}" required>
    </div>
    
    <div class="form-group">
        <label for="password">New Password</label>
        <input type="password" id="password" name="password" class="form-control" placeholder="(unchanged)">
    </div>
    
    <div class="form-group">
        <label for="password_confirmation">Confirm New Password</label>
        <input type="password" id="password_confirmation" name="password_confirmation" class="form-control">
    </div>

    {{ render_form_buttons(submit_text="Save") }}
</form>
{% endcall %}